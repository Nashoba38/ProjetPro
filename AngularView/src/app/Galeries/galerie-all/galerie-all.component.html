<div class="container">
  <div class="topPage">
    <h1 class="titre">Galerie photo</h1>
    <h4>
      Ici vous trouverez toutes mes photos, soit en vrac, soit classées par
      genre, pays, styles, ...
    </h4>
  </div>
</div>

<div class="filtres">
  <div class="categ">
    <p>Catégories : </p>
    <section class="categCheckBox">
      <mat-checkbox class="choices" (change)="getCheckedValue(4)" [(ngModel)]="amphiChecked">Amphibiens</mat-checkbox>
      <mat-checkbox class="choices" (change)="getCheckedValue(5)" [(ngModel)]="floreChecked">Flore</mat-checkbox>
      <mat-checkbox class="choices" (change)="getCheckedValue(6)" [(ngModel)]="inverteChecked">Invertébrés
      </mat-checkbox>
      <mat-checkbox class="choices" (change)="getCheckedValue(1)" [(ngModel)]="mammiChecked">Mammifères</mat-checkbox>
      <mat-checkbox class="choices" (change)="getCheckedValue(3)" [(ngModel)]="oiseauChecked">Oiseaux</mat-checkbox>
      <mat-checkbox class="choices" (change)="getCheckedValue(7)" [(ngModel)]="paysaChecked">Paysages</mat-checkbox>
      <mat-checkbox class="choices" (change)="getCheckedValue(2)" [(ngModel)]="reptiChecked">Reptiles</mat-checkbox>
      <mat-checkbox class="choices" (change)="getCheckedValue()" [(ngModel)]="allCatChecked">Tout voir</mat-checkbox>
    </section>
  </div>
  <div class="pays">
    <p>Pays : </p>
    <section class="paysCheckBox">
      <mat-checkbox class="choices" (change)="getCheckedValue(null,1)" [(ngModel)]="franceChecked">France</mat-checkbox>
      <mat-checkbox class="choices" (change)="getCheckedValue(null,2)" [(ngModel)]="marocChecked">Maroc</mat-checkbox>
      <mat-checkbox class="choices" (change)="getCheckedValue(null,3)" [(ngModel)]="costaChecked">Costa-Rica
      </mat-checkbox>
      <mat-checkbox class="choices" (change)="getCheckedValue(null,4)" [(ngModel)]="madaChecked">Madagascar
      </mat-checkbox>
      <mat-checkbox class="choices" (change)="getCheckedValue()" [(ngModel)]="allPaysChecked">Tout voir</mat-checkbox>
    </section>
  </div>
  <div class="search">
    <input id="searchbar" class="form-control" type="text" (keyup)="onSearch($event)" name="searchValue"
      autocomplete="off" placeholder="Chercher ...">
  </div>
  <!-- <button (click)="search()"> Enregistrer </button> -->
</div>

<div class="gallery">
  <ng-container *ngIf="filteredPhotos.length > 0">
    <ng-container *ngFor="let photo of filteredPhotos ; let i=index;">
      <div class="square" *ngIf="displayChecked(photo)">
        <img id="photo" alt="" (click)="openModal(i)" src="http://127.0.0.1:8000/uploads/images/galerie/{{
            photo.photo
          }}" />
      </div>
    </ng-container>
  </ng-container>
  <ng-container *ngIf="filteredPhotos.length === 0">
    <ng-container *ngFor="let photo of photos ; let i=index;">
      <div class="square" *ngIf="displayChecked(photo)">
        <img id="photo" alt="" (click)="openModal(i)" src="http://127.0.0.1:8000/uploads/images/galerie/{{
            photo.photo
          }}" />
      </div>
    </ng-container>
  </ng-container>
</div>

<div class="modalImage" *ngIf="isModalOpen">
  <div class="close">
    <button type="button" class="close" (click)="closeModal()">&times;</button>
  </div>
  <img class="img" alt="" src="http://127.0.0.1:8000/uploads/images/galerie/{{
      modal.photo
    }}" />
  <div class="previous" *ngIf="currentIndex > 0" (click)="precedent()"><i class="fas fa-chevron-left"></i></div>
  <div class="next" *ngIf="currentIndex <= photos.length-2" (click)="suivant()"><i class="fas fa-chevron-right"></i>
  </div>
  <div class="presentation">
    <p class="linkName"> {{ modal.nom }} - {{ modal.nomLatin}}</p>
  </div>
</div>
